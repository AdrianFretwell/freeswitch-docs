
# Autogenerated DTMF Variables 

 Created by  Ryan Harris, last modified by  Attila Gulyas on 2019.12.23

Click here to expand Table of Contents

* 1 [pass\_rfc2833](#-freeswitch--autogenerated-dtmf-variables-)
* 2 [dtmf\_type](#-freeswitch--autogenerated-dtmf-variables-)
* 3 [drop\_dtmf](#-freeswitch--autogenerated-dtmf-variables-)
* 4 [drop\_dtmf\_masking\_digits](#drop_dtmf_masking_digits)
* 5 [drop\_dtmf\_masking\_file](#drop_dtmf_masking_file)

## pass_rfc2833

If set, it passes [RFC 2833](https://tools.ietf.org/html/rfc2833) DTMF digits from one side of a bridge to the other, untouched. If unset, it decodes and re-encodes them before passing them on.

TODO [RFC 2833](https://tools.ietf.org/html/rfc2833) is obsoleted by [RFC 4733](https://tools.ietf.org/html/rfc4733).

**Usage**

```xml
<action application="set" data="pass_rf2833=true"/>
```

## dtmf_type

For inband DTMF, {{confluence\_link("mod\_dptools: start\_dtmf")}} must be used in the dialplan.

**Usage**

```xml
<action application="set" data="dtmf_type=info"/>
```

```xml
<action application="set" data="dtmf_type=rfc2833"/>
```

```xml
<action application="set" data="dtmf_type=none"/>
```

## drop_dtmf

Set this on an inbound channel before answer or on an outbound channel before the bridge/originate in order to prevent DTMF events from being sent to the channel. Only tested with RFC2833, may also work for INFO / inband. See Jira issue FS-4769\. Commit 60f7849cbe72.

**Usage**

```xml
<action application="set" data="drop_dtmf=true"/>
<action application="answer"/>
```

```xml
<action application="export" data="nolocal:drop_dtmf=true"/>
<action application="bridge" data="sofia/internal/100@1.2.3.4"/>
```

```xml
<action application="bridge" data="{drop_dtmf=true}sofia/internal/100@1.2.3.4"/>
```

## drop_dtmf_masking_digits

If `drop_dtmf` is true play specified tone for every tone received.

**Usage**

Each DTMF tone that is entered into the a-leg will be dropped and a "d" sent to the b-leg.

```xml
<action application="set" data="drop_dtmf=true"/>
<action application="set" data="drop_dtmf_masking_digits=d"/>
```

To drop and replace DTMF on the b-leg use:

```xml
<action application="export" data="nolocal:drop_dtmf=true"/>
<action application="export" data="nolocal:drop_dtmf_masking_digits=d"/>
```

## drop_dtmf_masking_file

If `drop_dtmf` is true, play specified file for every tone received.

**Usage**

Each DTMF tone that is entered into the a-leg will be dropped and the file `dtmf_masking_tone` played to the b-leg.

```xml
<action application="export" data="drop_dtmf=true"/>
<action application="export" data="drop_dtmf_masking_file=/etc/freeswitch/Sounds/dtmf_masking_tone"/>
```

To drop and replace DTMF on the b-leg use

```xml
<action application="export" data="nolocal:drop_dtmf=true"/>
<action application="export" data="nolocal:drop_dtmf_masking_file=/etc/freeswitch/Sounds/dtmf_masking_tone" />
```


